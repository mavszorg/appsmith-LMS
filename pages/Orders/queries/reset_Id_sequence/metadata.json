{
  "pluginType": "DB",
  "pluginId": "postgres-plugin",
  "unpublishedAction": {
    "name": "reset_Id_sequence",
    "datasource": {
      "name": "Logistics_db",
      "pluginId": "postgres-plugin",
      "messages": [],
      "isAutoGenerated": false,
      "id": "Logistics_db",
      "deleted": false,
      "policies": [],
      "userPermissions": []
    },
    "pageId": "Orders",
    "actionConfiguration": {
      "timeoutInMillisecond": 10000,
      "paginationType": "NONE",
      "encodeParamsToggle": true,
      "body": "DO $$\nDECLARE\n    new_value_C INT;\n    new_value_P INT;\n    max_value INT;\nBEGIN\n    -- Get the desired values from the sequences\n    SELECT last_value INTO new_value_P FROM \"PrinterLineItems_Id_seq\";\n    SELECT last_value INTO new_value_C FROM \"CustomerLineItems_Id_seq\";\n\n    -- Compare the values and determine the maximum\n    IF new_value_P > new_value_C THEN\n        max_value := new_value_P;\n    ELSE\n        max_value := new_value_C;\n    END IF;\n\n    -- Reset the sequences with the new value\n    EXECUTE 'ALTER SEQUENCE \"PrinterLineItems_Id_seq\" RESTART WITH ' || max_value +1;\n    EXECUTE 'ALTER SEQUENCE \"CustomerLineItems_Id_seq\" RESTART WITH ' || max_value +1;\n\n    -- Output the new values\n    RAISE NOTICE 'Sequence \"PrinterLineItems_Id_seq\" restarted with %', max_value +1 ;\n    RAISE NOTICE 'Sequence \"CustomerLineItems_Id_seq\" restarted with %', max_value +1;\n\t\t\n\t\t\nEND $$;\n\n",
      "selfReferencingDataPaths": [],
      "pluginSpecifiedTemplates": [
        {
          "value": false
        }
      ]
    },
    "executeOnLoad": false,
    "dynamicBindingPathList": [],
    "isValid": true,
    "invalids": [],
    "messages": [],
    "jsonPathKeys": [],
    "userSetOnLoad": false,
    "confirmBeforeExecute": false,
    "policies": [],
    "userPermissions": [],
    "createdAt": "2023-06-28T17:11:13Z"
  },
  "id": "Orders_reset_Id_sequence",
  "deleted": false,
  "gitSyncId": "63b393c7f276cd0745e9510c_649c69b19dd4927ca5db6cfe"
}